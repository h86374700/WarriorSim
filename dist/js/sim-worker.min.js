importScripts("./data/buffs.min.js","./data/gear.min.js","./data/races.min.js","./data/spells.min.js","./data/talents.min.js","./classes/player.min.js","./classes/simulation.min.js","./classes/spell.min.js","./classes/weapon.min.js","./globals.min.js"),onmessage=(s=>{const a=s.data;updateGlobals(a.globals);const e=new Player(...a.player),l=new Simulation(e,s=>{a.fullReport&&(s.player=e.serializeStats(),s.spread=l.spread),postMessage([TYPE.FINISHED,s])},(s,a)=>{postMessage([TYPE.UPDATE,s,a])},a.sim);l.startSync()});